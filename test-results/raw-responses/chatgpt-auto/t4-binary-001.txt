Using the **Riley et al. / pmsampsize** framework for logistic‐regression **prediction model development**, one key minimum-sample-size criterion is to limit **overfitting** via a target **global shrinkage factor** (commonly (S \ge 0.90)).

### Given

* Candidate predictor parameters: (P = 24)
* Outcome fraction (cirrhosis): (\pi = 0.17)
* Anticipated **Cox–Snell** (R^2): (R^2_{CS} = 0.288)

### Step 1: Convert anticipated fit into an expected model chi-square

For logistic regression,
[
\chi^2 \approx N ,\ln!\left(\frac{1}{1-R^2_{CS}}\right)
]
Compute:
[
\ln!\left(\frac{1}{1-0.288}\right)=\ln(1/0.712)\approx 0.339
]

### Step 2: Enforce shrinkage (S \ge 0.90)

Approximate shrinkage:
[
S \approx 1 - \frac{P}{\chi^2}
]
Require (S \ge 0.90 \Rightarrow \chi^2 \ge 10P). Substitute (\chi^2):
[
N ,\ln!\left(\frac{1}{1-R^2_{CS}}\right) \ge 10P
]
So:
[
N \ge \frac{10P}{\ln!\left(\frac{1}{1-R^2_{CS}}\right)}
= \frac{10\cdot 24}{0.339} \approx 706.6
]

### Minimum sample size

[
\boxed{N_{\min} \approx 707 \text{ patients total}}
]

That corresponds to:

* Expected events: (0.17 \times 707 \approx \boxed{120})
* Expected non-events: (707-120 \approx \boxed{587})

(So EPV (\approx 120/24 \approx 5). This can be totally fine here because your anticipated (R^2_{CS}=0.288) is fairly high; EPV rules-of-thumb don’t account for that.)

### Practical note

This is the minimum **for development under these assumptions**. Increase (P) (and thus (N)) if you plan:

* splines / nonlinear terms,
* interactions,
* lots of categorical levels,
* heavy missing data (inflate (N) for effective sample size loss),
* or if you want a stronger shrinkage target (e.g., (S\ge 0.95)).

If you tell me whether 24 predictors includes any multi-level categorical variables or spline terms, I can translate that into the *actual* parameter count (P) and update (N_{\min}).
