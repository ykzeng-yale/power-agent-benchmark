Using Riley et al.’s **binary-outcome** minimum sample size criteria, you need three ingredients: outcome prevalence, number of candidate predictor *parameters* (p), and an anticipated **Cox–Snell (R^2_{CS})** (often obtained from a reported C-statistic/AUC when (R^2_{CS}) isn’t available). ([PMC][1])

## Given

* Outcome prevalence: (\pi = 0.05)
* Candidate predictor parameters: (p = 12)
* Target shrinkage: (S = 0.90)
* Anticipated discrimination: C-statistic (= 0.80)

---

## Step 1 — Convert C-statistic (0.80) to (R^2_{CS})

Riley et al. describe a practical approach to approximate (R^2_{CS}) from a reported C-statistic by simulating a linear predictor distribution consistent with the AUC and prevalence, then computing (R^2_{CS}). 

Using that method for **AUC = 0.80** and **prevalence = 0.05**, the implied Cox–Snell fit is approximately:

[
R^2_{CS} \approx 0.062
]

(For (\pi=0.05), the maximum possible Cox–Snell (R^2) is about (0.33), so this corresponds to a Nagelkerke (R^2) around (0.19).) ([biometrische-gesellschaft.de][2])

---

## Step 2 — Criterion (i): default shrinkage (S \ge 0.90)

Riley’s shrinkage-based minimum (n) for logistic models is: 

[
n ;=; \frac{p}{(S-1),\ln!\left(1-\frac{R^2_{CS}}{S}\right)}
]

Plugging in (p=12), (S=0.90), (R^2_{CS}=0.062):

* [
  n \approx 1687
  ]

So **criterion (i)** implies **~1,687 patients**.

Expected events:

* [
  E = n\pi \approx 1687 \times 0.05 \approx 84
  ]
  Events-per-parameter:
* [
  EPP \approx 84/12 \approx 7.0
  ]

---

## Step 3 — Criterion (ii): optimism in Nagelkerke (R^2) ≤ 0.05

Riley et al. show you first compute the shrinkage needed to keep the apparent–adjusted Nagelkerke (R^2) gap ≤ (\delta) (default (\delta=0.05)), then (if that shrinkage is **more stringent** than your chosen 0.90) you recompute (n) using the same shrinkage formula. ([PMC][1])

For your inputs, this required shrinkage works out **below 0.90**, so **criterion (ii) does not increase the sample size** beyond 1,687.

---

## Step 4 — Criterion (iii): precision of overall risk (margin ±0.05)

Riley’s simple prevalence precision requirement for a binary outcome gives: ([PMC][1])

[
n \ge \frac{1.96^2,\pi(1-\pi)}{0.05^2}
]

With (\pi=0.05):

* (n \approx 73)

So criterion (iii) is **not** limiting here.

---

# Recommended minimum sample size

**(n \approx 1{,}687) total patients** (≈ **84 events**) to satisfy Riley’s minimum criteria with **shrinkage 0.90**, **12 parameters**, **prevalence 5%**, and **C-statistic 0.80**. ([PMC][1])

If you want a pragmatic planning number, you could round up (e.g., **1,700–1,800**) and/or inflate for anticipated missingness/loss to follow-up, but the *Riley-minimum* from the inputs above is about **1,687**.

[1]: https://pmc.ncbi.nlm.nih.gov/articles/PMC6519266/ "
            Minimum sample size for developing a multivariable prediction model: PART II ‐ binary and time‐to‐event outcomes - PMC
        "
[2]: https://www.biometrische-gesellschaft.de/fileadmin/AG_Daten/Weiterbildung/Riley_lecture3_sample_size.pdf "Prognostic models & risk prediction:  Model Development II"
