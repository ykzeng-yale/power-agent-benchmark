To power a test of **Pearson correlation** (H_0:\rho=0) vs (H_1:\rho\neq 0), a standard approach uses the **Fisher z-transform**.

### 1) Fisher z for the expected correlation

The Fisher transform is
[
z(\rho)=\operatorname{arctanh}(\rho)=\frac12\ln\left(\frac{1+\rho}{1-\rho}\right)
]
For your expected (\rho=r=0.3):
[
z(0.3)=\operatorname{arctanh}(0.3)
= \frac12\ln\left(\frac{1.3}{0.7}\right)
\approx 0.3095
]

Under this framework, the standard error of (z) is approximately
[
SE = \frac{1}{\sqrt{n-3}}.
]

### 2) Critical values for (\alpha=0.05) and 80% power

Assuming a **two-sided** (\alpha=0.05):
[
z_{1-\alpha/2}=z_{0.975}\approx 1.96
]
For **80% power**, (\beta=0.20):
[
z_{1-\beta}=z_{0.80}\approx 0.842
]

### 3) Sample size formula

A common approximate sample size formula is:
[
n \approx 3 + \left(\frac{z_{1-\alpha/2}+z_{1-\beta}}{\operatorname{arctanh}(r)}\right)^2
]

Plug in values:
[
n \approx 3 + \left(\frac{1.96+0.842}{0.3095}\right)^2
= 3 + \left(\frac{2.802}{0.3095}\right)^2
= 3 + (9.05)^2
= 3 + 81.9
\approx 84.9
]

### Result

You need **about 85 patients** (round up) to have **80% power** at **(\alpha=0.05)** to detect a true correlation of **(r=0.3)**.

Practical note: if you expect missing data (e.g., 10%), plan for (\frac{85}{0.9}\approx 95) patients.
