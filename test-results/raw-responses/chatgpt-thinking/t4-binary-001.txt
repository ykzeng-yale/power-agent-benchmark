Using the **Riley et al. “pmsampsize” criteria** for developing a **logistic regression prediction model**, a common minimum requirement is to ensure a **global shrinkage factor** of about **S = 0.90** (to limit overfitting).

### Inputs

* Candidate predictors: (p = 24)
* Outcome prevalence (cirrhosis): (\pi = 0.17)
* Anticipated Cox–Snell (R^2): (R^2_{CS} = 0.288)
* Target shrinkage: (S = 0.90)

### Step 1 — Sample size from shrinkage requirement

For logistic regression, the likelihood ratio statistic (\chi^2) relates to Cox–Snell (R^2) by:
[
R^2_{CS} = 1 - \exp\left(-\frac{\chi^2}{n}\right)
\quad\Rightarrow\quad
\chi^2 = -n\ln(1 - R^2_{CS})
]

The heuristic for global shrinkage is:
[
S \approx 1 - \frac{p}{\chi^2}
]
So requiring (S \ge 0.90) gives (\chi^2 \ge \frac{p}{1-S}), and solving for (n):
[
n \ge \frac{p}{(1-S)\left[-\ln(1 - R^2_{CS})\right]}
]

Plugging in:

* (1 - R^2_{CS} = 0.712)
* (-\ln(0.712) \approx 0.339)

[
n \ge \frac{24}{0.10 \times 0.339} \approx 706.6
]

### Minimum sample size (rounded up)

[
\boxed{n_{\min} \approx 707 ;;\Rightarrow;; 708\text{ patients (total)}}
]

### What that implies in events

Expected number with cirrhosis:
[
E = 0.17 \times 708 \approx 120 \text{ events}
]
So EPV (\approx 120/24 = 5).

✅ **Answer:** **Minimum total sample size ≈ 708 patients** for model development (about **120 cirrhosis cases** expected), given the anticipated (R^2_{CS}=0.288) and 24 predictors under an (S=0.90) shrinkage target.
