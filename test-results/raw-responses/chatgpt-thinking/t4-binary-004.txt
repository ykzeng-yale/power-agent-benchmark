Using the **Riley et al. minimum sample size framework** for a *binary-outcome* prediction model (as implemented in **pmsampsize**), you take the **largest** sample size required across three criteria:
(i) target global shrinkage, (ii) small optimism in Nagelkerke (R^2), (iii) precise overall risk (intercept). ([rcastoragev2.blob.core.windows.net][1])

## Step 1 — Convert your anticipated C-statistic to Cox–Snell (R^2_{CS})

Because you specified **C-statistic = 0.82** but not (R^2), we estimate (R^2_{CS}) from ((C,\ \text{prevalence})) using Riley et al.’s approach (simulate linear predictor distributions consistent with (C) and the outcome proportion, then compute Cox–Snell (R^2)). 

For **prevalence = 0.12** and **C = 0.82**, this gives approximately:
[
R^2_{CS} \approx 0.148
]

## Step 2 — Criterion (i): shrinkage target (S = 0.95)

For **(p=25)** predictor parameters and target shrinkage (S), Riley et al. give: 
[
n ;=; \frac{p}{(S-1),\ln!\left(1-\frac{R^2_{CS}}{S}\right)}
]

Plugging in (p=25), (S=0.95), (R^2_{CS}=0.148):

* (;n \approx 2949.5)  ⟹ **round up to 2,950 participants**

Expected number of events:

* (E = n\phi \approx 2950\times 0.12 \approx 354) events
  Events per predictor parameter:
* (EPP \approx 354/25 \approx 14.2)

## Step 3 — Check criteria (ii) and (iii)

**(ii) Nagelkerke (R^2) optimism ≤ 0.05** typically implies a minimum shrinkage level
[
S \ge \frac{R^2_{CS}}{R^2_{CS} + 0.05\cdot \max(R^2_{CS})}
]
with (\max(R^2_{CS})) determined by prevalence. ([rcastoragev2.blob.core.windows.net][1])
Here it yields (S \approx 0.85), which is **less stringent than 0.95**, so criterion (i) already covers it.

**(iii) Overall risk precision** (margin of error 0.05 for prevalence) gives:
[
n = \left(\frac{1.96}{0.05}\right)^2 \phi(1-\phi)
]
which is about **162**, far smaller than 2,950. ([rcastoragev2.blob.core.windows.net][1])

---

# Required sample size

✅ **Total required sample size ≈ 2,950 participants** (about **354 events**) to achieve **shrinkage ≥ 0.95** under the Riley/pmsampsize criteria, given **25 predictor parameters**, **prevalence 12%**, and **anticipated C-statistic 0.82**. 

[1]: https://rcastoragev2.blob.core.windows.net/509fc40eadd23a411835addcb6f1b2fe/PMC6519266.pdf "Minimum sample size for developing a multivariable prediction model: PART II - binary and time-to-event outcomes"
