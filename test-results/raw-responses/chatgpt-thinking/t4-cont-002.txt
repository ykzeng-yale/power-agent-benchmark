Using the **Riley et al. minimum sample size criteria for developing a linear prediction model with a continuous outcome**, you calculate the required (n) for **four** criteria and then take the **largest**. ([CRAN][1])

You gave:

* Candidate predictor parameters: (P=5)
* Anticipated model fit: (R^2 = 0.30) (for continuous outcomes, (R^2_{cs}=R^2)) 
* Mean SBP (\mu \approx 120), SD (\sigma \approx 15)

Below I use the common defaults in the Riley framework: **target shrinkage (S=0.90)** and **target optimism in apparent (R^2) of (\delta=0.05)**, and for mean/intercept precision the pmsampsize default **multiplicative margin of error** (=10%). ([CRAN][1])

---

## C1) Precise estimation of the mean outcome (intercept)

Approximate 95% CI half-width for the mean is (1.96,\sigma/\sqrt{n}).
Targeting about ±10% of the mean (≈ ±12 mmHg):

[
n \ge \left(\frac{1.96 \cdot 15}{12}\right)^2 \approx 6.0
]

So **C1 is tiny** here and won’t drive the final (n). ([CRAN][1])

---

## C2) Precise estimation of the residual SD

Riley’s framework (as summarized in the BMJ guidance) gives, for continuous outcomes:

[
n \approx 234 + P
]

So:

[
n_{C2} = 234 + 5 = 239
]

This is often the dominant requirement. 

---

## C3) Small overfitting via global shrinkage (S\ge 0.90)

From Fig 3, the required sample size for a target shrinkage (S) is: 

[
n ;=; \frac{P}{(S-1),\ln!\left(1-\frac{R^2}{S}\right)}
]

Plugging in (P=5), (S=0.90), (R^2=0.30):

[
n_{C3} \approx 123.3 ;\Rightarrow; 124
]

---

## C4) Small optimism in apparent model fit (target (\delta=0.05))

From Fig 5, compute an “implied” shrinkage (S) that corresponds to (\delta): 

For continuous outcomes, (\max(R^2_{cs})=1), so:

[
S ;=; \frac{R^2}{R^2+\delta\cdot 1}
;=; \frac{0.30}{0.30+0.05}
\approx 0.857
]

Then plug this (S) into the Fig 3 equation above:

[
n_{C4} \approx 81.2 ;\Rightarrow; 82
]

---

## Final Riley minimum (n)

Take the maximum across the four criteria:

* (n_{C1}\approx 6)
* (n_{C2}=239)
* (n_{C3}\approx 124)
* (n_{C4}\approx 82)

✅ **Recommended minimum sample size: (\boxed{n \approx 239 ;\text{(round to ~240)}})**

In practice, I’d usually round up a bit (e.g., **250**) if you expect missing data or want extra stability for model assessment, but the **Riley minimum** with your inputs is **~240**.

[1]: https://cran.r-project.org/web/packages/pmsampsize/pmsampsize.pdf "pmsampsize: Sample Size for Development of a Prediction Model"
