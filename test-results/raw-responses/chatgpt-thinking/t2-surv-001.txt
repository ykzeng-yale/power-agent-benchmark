Using a standard **log-rank (proportional hazards) design**, the calculation is:

## 1) Required number of events (log-rank)

For equal allocation (1:1), the required total number of events is

[
D ;=;\frac{(z_{1-\alpha/2}+z_{1-\beta})^2}{(\log HR)^2 , p(1-p)}
\quad\text{with }p=0.5 \Rightarrow p(1-p)=0.25
]

* (HR=0.7 \Rightarrow \log(HR)=\log(0.7)=-0.3567)
* (\alpha=0.05) (two-sided) (\Rightarrow z_{1-\alpha/2}=1.96)
* Power (=0.80 \Rightarrow \beta=0.20 \Rightarrow z_{1-\beta}=0.84)

[
D = \frac{(1.96+0.84)^2}{(0.3567)^2 \cdot 0.25}
\approx \frac{(2.80)^2}{0.1272 \cdot 0.25}
\approx \frac{7.84}{0.0318}
\approx 246.8
]

So you need about **247 total events**.

## 2) Convert events to sample size using accrual + follow-up

Assume **exponential survival** and **administrative censoring only** (no dropout).

Control median = 2 years ⇒ control hazard
[
\lambda_C=\frac{\ln 2}{2}=0.3466 \text{ per year}
]
Treatment hazard (\lambda_T = HR \cdot \lambda_C = 0.7 \cdot 0.3466 = 0.2426).

Accrual = 3 years, additional follow-up = 2 years ⇒ study ends at (T=5) years from first patient in.
With **uniform accrual** over ([0,3]), the *average* event probability in a group with hazard (\lambda) is:

[
\bar{P}(\text{event}) = \frac{1}{3}\int_{0}^{3}\left[1-e^{-\lambda(5-u)}\right]du
= 1-\frac{1}{3\lambda}\left(e^{-\lambda(5-3)}-e^{-\lambda\cdot 5}\right)
]

Plugging in:

* Control: (\bar{P}_C \approx 0.689)
* Treatment: (\bar{P}_T \approx 0.563)

Overall (1:1 randomization):
[
\bar{P}_{\text{overall}}=\frac{\bar{P}_C+\bar{P}_T}{2}\approx \frac{0.689+0.563}{2}=0.626
]

Then expected total events (\approx N \cdot 0.626). Set equal to 247:
[
N \approx \frac{247}{0.626} \approx 394.3
]

## Answer

* **Total sample size:** ~**396** (rounding up)
* **Per arm:** ~**198 patients per arm**

If you expect loss to follow-up (e.g., 5–10%), inflate accordingly (e.g., ~210–220 per arm for 5–10% overall dropout).
